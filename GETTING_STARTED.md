# ğŸš€ Getting Started with Battery Tester Application

**Welcome!** This is your complete guide to understanding and working with the Battery Tester application.

## ğŸ“‹ Quick Overview

You now have a **fully functional Qt Quick application** that:
- âœ… Downloads battery test data from your ESP32-S3 device via USB
- âœ… Visualizes voltage, current, and temperature in interactive charts
- âœ… Features a modern, professional dark-themed UI
- âœ… Supports 6 independent battery test channels
- âœ… Saves data as CSV files for further analysis

**All code is ready to build and run in Qt Creator!**

## ğŸ¯ Your Next 3 Steps

### Step 1: Open in Qt Creator (5 minutes)

1. Launch **Qt Creator**
2. `File â†’ Open File or Project...`
3. Navigate to: `/home/saj/cute/qt_training/batterytester`
4. Select: **CMakeLists.txt**
5. Click **Open**
6. Select your Qt 6.8+ kit
7. Click **Configure Project**

**ğŸ“– Detailed guide**: See `QT_CREATOR_GUIDE.md`

### Step 2: Build & Test UI (5 minutes)

1. Press **Ctrl+B** to build
2. Press **Ctrl+R** to run
3. The app window opens with dark modern UI
4. Click on any file in the "Test Results Files" list
5. Chart displays voltage data
6. Try clicking "Current" and "Temperature" buttons

**âœ… Success if**: You see the chart update with data from sample CSV files

### Step 3: Test with Real Device (10 minutes)

1. Connect your battery tester to USB
2. In the app: Click **ğŸ”„** to refresh ports
3. Select port from dropdown (e.g., `/dev/ttyACM0`)
4. Click **Connect** button
5. Press download button **on your device**
6. In the app: Click **Download Test Results**
7. Watch progress bar as files download
8. New files appear in the sidebar

**âœ… Success if**: All 6 channel files download and display correctly

## ğŸ“ Project Structure

```
batterytester/
â”‚
â”œâ”€â”€ ğŸ“„ Source Files (Build these in Qt Creator)
â”‚   â”œâ”€â”€ main.cpp                    # App entry point
â”‚   â”œâ”€â”€ Main.qml                    # UI layout & styling
â”‚   â”œâ”€â”€ deviceprotocol.h/cpp        # USB protocol (low-level)
â”‚   â”œâ”€â”€ devicemanager.h/cpp         # Device control (high-level)
â”‚   â”œâ”€â”€ csvdatamodel.h/cpp          # Data parsing & model
â”‚   â””â”€â”€ CMakeLists.txt              # Build configuration
â”‚
â”œâ”€â”€ ğŸ“š Documentation (Read these)
â”‚   â”œâ”€â”€ README.md                   # Complete user guide
â”‚   â”œâ”€â”€ QT_CREATOR_GUIDE.md         # Step-by-step Qt Creator setup
â”‚   â”œâ”€â”€ IMPLEMENTATION_SUMMARY.md   # Technical deep dive
â”‚   â””â”€â”€ FUTURE_SENDER_INTEGRATION.md # Next feature plan
â”‚
â”œâ”€â”€ ğŸ“Š Data Directories
â”‚   â”œâ”€â”€ received_files/             # Downloaded test results (6 CSVs)
â”‚   â””â”€â”€ send_settings/              # Config files (future feature)
â”‚
â”œâ”€â”€ ğŸ Reference Scripts (Python originals)
â”‚   â”œâ”€â”€ usb_receiver.py             # Reference: download protocol
â”‚   â””â”€â”€ usb_sender.py               # Reference: upload protocol
â”‚
â””â”€â”€ ğŸ”§ Build Output (Auto-generated by Qt Creator)
    â””â”€â”€ build/                      # Compiled binaries here
```

## ğŸ¨ What You'll See

### Application Window Layout

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ âš¡ Battery Tester Pro          Status: Connected [â—]    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Device         â•‘ Channel 1  [Voltage] [Current] [Temp]   â•‘
â•‘ Connection     â•‘                                          â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘      ğŸ“ˆ Interactive Chart Area          â•‘
â•‘ â”‚Port: ACM0 â–¼â”‚ â•‘                                          â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘          (Line chart showing            â•‘
â•‘ [Connect]      â•‘           selected data type)           â•‘
â•‘ [Download]     â•‘                                          â•‘
â•‘ â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘ 60%  â•‘                                          â•‘
â•‘                â•‘                                          â•‘
â•‘ Test Results   â•‘                                          â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— â•‘
â•‘ â”‚â— ch_1.csv  â”‚ â•‘  â•‘ Points: 60  Min: 4.98V  Max: 4.99Vâ•‘ â•‘
â•‘ â”‚  ch_2.csv  â”‚ â•‘  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â•‘
â•‘ â”‚  ch_3.csv  â”‚ â•‘                                          â•‘
â•‘ â”‚  ch_4.csv  â”‚ â•‘                                          â•‘
â•‘ â”‚  ch_5.csv  â”‚ â•‘                                          â•‘
â•‘ â”‚  ch_6.csv  â”‚ â•‘                                          â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘                                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### Color Scheme (Modern Industrial)

- **Background**: Dark blue-gray
- **Accents**: Bright blue highlights
- **Success**: Green (connected, download complete)
- **Charts**: Smooth blue lines on dark grid
- **Text**: High-contrast light gray

## ğŸ”‘ Key Features to Try

### 1. Port Discovery
- Click **ğŸ”„** refresh button
- Available ports populate dropdown
- Works on Linux (`/dev/ttyACM0`) and Windows (`COM3`)

### 2. File Download
- **Automatic handshake** with device
- **Progress bar** shows real-time status
- **6 files** downloaded in sequence
- **Auto-save** to `received_files/`

### 3. Data Visualization
- Click any CSV in the sidebar
- **Toggle** between Voltage/Current/Temperature
- **Statistics** panel shows min/max values
- **Smooth rendering** with Qt Charts

### 4. Error Handling
- Connection failures show error messages
- Timeout detection during download
- Invalid CSV files report errors
- Permission issues detected and reported

## ğŸ› ï¸ Common Tasks

### Task: View Sample Data (No Device Needed)

```
1. Run application (Ctrl+R)
2. Look at "Test Results Files" section
3. Click "test_results_ch_1.csv"
4. Chart displays voltage vs time
5. Click "Current" button
6. Chart switches to current vs time
```

### Task: Download from Device

```
1. Connect device via USB
2. Click ğŸ”„ to find port
3. Select port (e.g., /dev/ttyACM0)
4. Click "Connect"
5. Wait for green status indicator
6. Press download button ON THE DEVICE
7. Click "Download Test Results" IN THE APP
8. Watch progress bar (3-5 seconds)
9. New files appear in sidebar
```

### Task: Compare Channels

```
1. Click channel 1 CSV
2. Note voltage range in statistics
3. Click channel 2 CSV
4. Compare voltage values
5. Repeat for all 6 channels
```

### Task: Export Data

CSV files are saved in `received_files/`:
```bash
# Files are standard CSV format
cd received_files/
cat test_results_ch_1.csv

# You can open in:
# - Excel / LibreOffice Calc
# - Python pandas
# - R for statistical analysis
# - MATLAB
```

## ğŸ“– Documentation Map

**For building**: â†’ `QT_CREATOR_GUIDE.md` (start here!)

**For features**: â†’ `README.md` (user manual)

**For understanding code**: â†’ `IMPLEMENTATION_SUMMARY.md` (architecture)

**For adding upload**: â†’ `FUTURE_SENDER_INTEGRATION.md` (next feature)

## ğŸ› Troubleshooting Quick Reference

| Problem | Solution |
|---------|----------|
| **"Permission denied" on port** | `sudo usermod -a -G dialout $USER` then reboot |
| **"Qt SerialPort not found"** | Install via Qt Maintenance Tool â†’ Qt SerialPort |
| **"Qt Charts not found"** | Install via Qt Maintenance Tool â†’ Qt Charts |
| **Build fails** | Clean: `Build â†’ Clean All`, delete `build/`, rebuild |
| **Port not in dropdown** | Device not connected, or driver missing |
| **Download timeout** | Press download button ON DEVICE first |
| **Chart not showing** | Click a CSV file in the sidebar first |

## ğŸ“ Learning Path

### Beginner (Just starting)
1. âœ… Build and run the application
2. âœ… Explore the UI without device
3. âœ… View sample CSV charts
4. âœ… Read `QT_CREATOR_GUIDE.md`

### Intermediate (Customizing)
1. Change colors in `Main.qml` (search for color values)
2. Modify chart title or labels
3. Add console.log() debug output in QML
4. Add qDebug() debug output in C++

### Advanced (Extending)
1. Read `IMPLEMENTATION_SUMMARY.md`
2. Add new statistics (e.g., average, capacity)
3. Implement multi-channel overlay
4. Follow `FUTURE_SENDER_INTEGRATION.md` to add config upload

## ğŸ¯ Success Metrics

You're ready to work on the project when you can:

- [ ] Open project in Qt Creator
- [ ] Build without errors (Ctrl+B)
- [ ] Run and see the dark UI (Ctrl+R)
- [ ] Click a CSV and see a chart
- [ ] Connect to device (if available)
- [ ] Download test results (if device has data)
- [ ] Understand the file structure
- [ ] Know where to find documentation

## ğŸ’¡ Pro Tips

### Development Workflow
1. **Edit QML**: Changes reload automatically with `qmlscene`
2. **Edit C++**: Need rebuild (Ctrl+B)
3. **Debug**: Press F5 to run with debugger
4. **Logs**: Check "Application Output" pane

### Code Organization
- **UI changes**: Edit `Main.qml`
- **Protocol changes**: Edit `deviceprotocol.cpp`
- **Add features**: Extend `devicemanager.cpp`
- **Data processing**: Modify `csvdatamodel.cpp`

### Git Best Practices
```bash
# Ignore build artifacts (already in .gitignore)
build/
*.user
*.autosave

# Commit structure
git add main.cpp devicemanager.cpp  # C++ files
git commit -m "Add feature X to device manager"

git add Main.qml  # QML separately
git commit -m "Update UI for feature X"
```

## ğŸ¤ Getting Help

**If stuck on Qt Creator**: `QT_CREATOR_GUIDE.md` â†’ "Common Issues"

**If protocol confuses you**: Look at `usb_receiver.py` (Python reference)

**If build fails**: Check "Troubleshooting" section in `README.md`

**If UI doesn't work**: Check "Application Output" pane for QML errors

**If device won't connect**: Verify port permissions and driver

## ğŸš€ Ready to Start!

You now have everything you need. Open Qt Creator, load the project, and start building!

**Recommended first session** (30 minutes):
1. âœ… Open in Qt Creator (5 min)
2. âœ… Build and run (5 min)
3. âœ… Explore UI and sample data (10 min)
4. âœ… Try connecting device (if available) (10 min)

**The code is production-ready. Have fun building!** ğŸ‰

---

*Questions? Check the other documentation files or review the code comments.*
